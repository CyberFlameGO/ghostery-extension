/**
 * Pause Button Sass
 *
 * Ghostery Browser Extension
 * https://www.ghostery.com/
 *
 * Copyright 2018 Ghostery, Inc. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0
 */

@function buildIconPause($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,<svg width="14" height="16" xmlns="http%3A//www.w3.org/2000/svg"><path d="M1 15h3V1H1v14zM9 1v14h3V1H9z" fill="#{url-friendly-colour($stroke-color)}"/></svg>');
}

@function buildIconPlay($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,<svg width="14" height="16" xmlns="http%3A//www.w3.org/2000/svg"><path d="M12.74 7.543a.532.532 0 0 1 0 .915L1.782 14.92c-.322.222-.783-.045-.783-.458V1.54c0-.378.44-.693.783-.458l10.956 6.462zM2.043 13.547L11.435 8 2.044 2.454v11.093z" fill="#{url-friendly-colour($stroke-color)}"/></svg>');
}

@function buildIconCaretDown($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,<svg width="9" height="5" xmlns="http%3A//www.w3.org/2000/svg"><path d="M0 0h9L4.5 5 0 0" fill="#{url-friendly-colour($stroke-color)}"/></svg>');
}

@function buildIconCircle($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,<svg width="4" height="4" xmlns="http%3A//www.w3.org/2000/svg"><circle cx="2" cy="2" r="2" fill="#{url-friendly-colour($stroke-color)}"/></svg>');
}

.sub-component.pause-button {
	.button {
		color: #4a4a4a;
		border-color: #cccccc;
		background-color: #ffffff;
		margin-bottom: 0;

		transition: background-image 0.25s ease-out,
			background-color 0.25s ease-out,
			border-color 0.25s ease-out,
			color 0.25s ease-out;
	}
	.button.active {
		color: #ffffff;
		border-color: #1dafed;
		background-color: #1dafed;
		box-shadow: inset 0px 1px 7px 2px rgba(#1dafed, 0);
		& + .button.active {
			border-left-color: #efefea;
		}
	}
	.button:hover { background-color: #efefef; }
	.button.active:hover {
		border-color: #0093bd;
		background-color: #0093bd;
	}

	.button-pause {
		min-width: 125px;
		max-width: 125px;
		font-size: 11px;
		line-height: 17px;
		.pause-button-text {
			overflow-x: hidden;
			text-overflow: clip;
		}
		.pause-button-icon {
			padding: 0 10px 0 30px;
			background-repeat: no-repeat;
			background-position: 0 center;
			background-size: 14px 16px;
			background-image: buildIconPause(#4a4a4a);
			white-space: nowrap;
			text-overflow: ellipsis;
			overflow-x: hidden;
		}
		&.active .pause-button-icon {
			background-image: buildIconPlay(#ffffff);
		}
		&.smaller {
			min-width: 100px;
			max-width: 150px;
		}
		&.smallest {
			min-width: 41px;
			max-width: 41px;
			padding-left: 17px;
		}
	}
	.button-caret {
		width: 25px;
		padding-top: 21px;
		padding-right: 0;
		background-repeat: no-repeat;
		background-position: center center;
		background-size: 9px 5px;
		background-image: buildIconCaretDown(#4a4a4a);
		&.active {
			background-image: buildIconCaretDown(#ffffff);
		}
	}

	.button-left {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
		border-right: 0;
		&.dropdown-open {
			border-bottom-left-radius: 0;
		}
	}
	.button-right {
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
		&.dropdown-open {
			border-bottom-right-radius: 0;
		}
	}

	.dropdown-container {
		position: relative;
		width: 0;
		height: 0;
		top: 0;

		.dropdown {
			text-align: center;
			background-color: #ffffff;
			border: 1px solid #cccccc;
			border-top: 0;
			margin: 0 auto;
			border-bottom-left-radius: 3px;
			border-bottom-right-radius: 3px;
		}
		.dropdown-item {
			padding: 12px 0;
			background-color: #ffffff;

			white-space: nowrap;
			text-overflow: ellipsis;
			overflow-x: hidden;
		}
		.dropdown-item:hover {
			background-color: #ebebeb;
		}
		.dropdown-item.selected {
			background-color: #ebebeb;
			.dropdown-clickable {
				padding: 0 0 0 10px;
				background-repeat: no-repeat;
				background-position: 0 center;
				background-size: 4px 4px;
				background-image: buildIconCircle(#4a4a4a);
			}
		}
	}

	.no-border-radius {
		border-bottom-right-radius: 0;
		border-bottom-left-radius: 0;
		border-top-right-radius: 0;
		border-top-left-radius: 0;
	}
}

.ghostery-features-container .sub-component.pause-button {
	.button-pause {
		height: 35px;
		line-height: 21px;
		top: 0;
	}
	.button-caret {
		height: 35px;
	}
	.button-pause.smaller {
		top: 1px;
		height: 45px;
		min-width: 125px;
		max-width: 125px;
		line-height: 31px;
	}
	.button-caret.smaller {
		height: 45px;
	}
	.button.active {
		border-color: #0093bd;
		background-color: #1dafed;
		box-shadow: inset 0px 1px 7px 2px #0093bd;
		&:hover {
			background-color: #0093bd;
		}
	}
	.button-pause.smallest {
		top: 0;
		padding-left: 15px;
		height: 41px;
		line-height: 27px;
		border-top: none;
		border-bottom-left-radius: 3px;
		&.dropdown-open {
			border-bottom-left-radius: 0;
		}
	}
	.button-caret.smallest {
		height: 41px;
		border-top: none;
		border-bottom-right-radius: 3px;
		&.dropdown-open {
			border-bottom-right-radius: 0;
		}
	}
	.dropdown {
		position: absolute;
		z-index: 1;
	}
	.dropdown-container.centered .dropdown-item {
		padding: 9px 0;
	}
}
